const EXAMPLES = [
    {
        "title": "Hello World",
        "code": "package main\n\nimport \"fmt\"\n\nfunc main() {\n    fmt.Println(\"hello world\")\n}\n"
    },
    {
        "title": "Errors",
        "code": "package main\n\nimport \"log\"\n\nfunc main() {\n    log.Fatalf(\"dead\")\n}\n"
    },
    {
        "title": "Simple Mux",
        "code": "package main\n\nimport (\n    \"bytes\"\n    \"fmt\"\n    \"log\"\n    \"net/http\"\n    \"net/http/httptest\"\n)\n\nfunc main() {\n    mux := http.NewServeMux()\n    mux.HandleFunc(\"GET /\", func(w http.ResponseWriter, r *http.Request) {\n        w.Write([]byte(\"Hello MUX\"))\n    })\n\n    recorder := httptest.NewRecorder()\n    request, err := http.NewRequest(\"GET\", \"/\", &bytes.Buffer{})\n    mux.ServeHTTP(recorder, request)\n\n    if err != nil {\n        log.Fatal(err)\n    }\n    fmt.Printf(\"Code: %v\\n\", recorder.Code)\n    fmt.Printf(\"Body: %v\\n\", recorder.Body)\n    fmt.Printf(\"Pattern: %v\\n\", request.Pattern)\n}\n"
    },
    {
        "title": "Mux 1.21",
        "code": "package main\n\nimport (\n    \"bytes\"\n    \"fmt\"\n    \"log\"\n    \"net/http\"\n    \"net/http/httptest\"\n)\n\n// GET  /\n// GET  /contact\n// GET  /api/widgets\n// POST /api/widgets\n// POST /api/widgets/:slug\n// POST /api/widgets/:slug/parts\n// POST /api/widgets/:slug/parts/:id/update\n// POST /api/widgets/:slug/parts/:id/delete\n// GET  /:slug\n// GET  /:slug/admin\n// POST /:slug/image\n\nfunc main() {\n    mux := http.NewServeMux()\n\n    mux.HandleFunc(\"/\", func(w http.ResponseWriter, r *http.Request) {\n\n        switch r.Method {\n        case http.MethodGet:\n            handler(w, r, \"GET /\")\n        default:\n            http.Error(w, \"Method not allowed\", http.StatusMethodNotAllowed)\n        }\n    })\n\n    request(mux, \"GET\", \"/\")\n    request(mux, \"GET\", \"/contact\")\n    request(mux, \"GET\", \"/hello-world\")\n    request(mux, \"GET\", \"/hello-world/admin\")\n    request(mux, \"POST\", \"/\")\n}\n\nfunc handler(w http.ResponseWriter, _ *http.Request, route string) {\n    w.WriteHeader(200)\n    w.Write([]byte(fmt.Sprintf(\"Route: %v\", route)))\n}\n\nfunc request(mux *http.ServeMux, method, url string) {\n    recorder := httptest.NewRecorder()\n    request, err := http.NewRequest(method, url, &bytes.Buffer{})\n    fmt.Printf(\"Path : %v %v\\n\", request.Method, request.URL.Path)\n\n    mux.ServeHTTP(recorder, request)\n\n    if err != nil {\n        log.Fatal(err)\n    }\n    fmt.Printf(\"%v\\n\", recorder.Body)\n    fmt.Println()\n}\n"
    },
    {
        "title": "Mux 1.21 \u2014 Continued",
        "code": "package main\n\nimport (\n    \"bytes\"\n    \"fmt\"\n    \"log\"\n    \"net/http\"\n    \"net/http/httptest\"\n    \"strings\"\n)\n\n// GET  /\n// GET  /contact\n// GET  /api/widgets\n// POST /api/widgets\n// POST /api/widgets/:slug\n// POST /api/widgets/:slug/parts\n// POST /api/widgets/:slug/parts/:id/update\n// POST /api/widgets/:slug/parts/:id/delete\n// GET  /:slug\n// GET  /:slug/admin\n// POST /:slug/image\n\nfunc main() {\n    mux := http.NewServeMux()\n\n    mux.HandleFunc(\"/\", func(w http.ResponseWriter, r *http.Request) {\n        fmt.Printf(\"Path : %v %v\\n\", r.Method, r.URL.Path)\n\n        switch r.Method {\n        case http.MethodGet:\n            segment, found := strings.CutPrefix(r.URL.Path, \"/\")\n            if !found || segment == \"\" {\n                handler(w, r, \"GET /\")\n                return\n            } else {\n                fmt.Printf(\"Segmt: %v\\n\", segment)\n            }\n\n            segments := strings.Split(segment, \"/\")\n            if len(segments) == 1 {\n                handler(w, r, \"GET /:slug\")\n                return\n            }\n\n            switch segments[1] {\n            case \"admin\":\n                handler(w, r, \"GET /:slug/admin\")\n                return\n            case \"image\":\n                handler(w, r, \"GET /:slug/image\")\n                return\n            }\n\n            http.Error(w, \"Not found\", http.StatusNotFound)\n        default:\n            http.Error(w, \"Method not allowed\", http.StatusMethodNotAllowed)\n        }\n    })\n\n    mux.HandleFunc(\"/contact\", func(w http.ResponseWriter, r *http.Request) {\n        fmt.Printf(\"Path : %v %v\\n\", r.Method, r.URL.Path)\n\n        switch r.Method {\n        case http.MethodGet:\n            handler(w, r, \"GET /contact\")\n        default:\n            http.Error(w, \"Method not allowed\", http.StatusMethodNotAllowed)\n        }\n    })\n\n    mux.HandleFunc(\"/api/widgets\", func(w http.ResponseWriter, r *http.Request) {\n        fmt.Printf(\"Path : %v %v\\n\", r.Method, r.URL.Path)\n\n        switch r.Method {\n        case http.MethodGet:\n            handler(w, r, \"GET /api/widgets\")\n        case http.MethodPost:\n            handler(w, r, \"POST /api/widgets\")\n        default:\n            http.Error(w, \"Method not allowed\", http.StatusMethodNotAllowed)\n        }\n    })\n\n    mux.HandleFunc(\"/api/widgets/\", func(w http.ResponseWriter, r *http.Request) {\n        fmt.Printf(\"Path : %v %v\\n\", r.Method, r.URL.Path)\n\n        switch r.Method {\n        case http.MethodPost:\n            segment, _ := strings.CutPrefix(r.URL.Path, \"/api/widgets/\")\n            fmt.Printf(\"Segmt: %v\\n\", segment)\n\n            handler(w, r, \"POST /api/widgets/\")\n        default:\n            http.Error(w, \"Method not allowed\", http.StatusMethodNotAllowed)\n        }\n    })\n\n    request(mux, \"GET\", \"/\")\n    request(mux, \"GET\", \"/contact\")\n    request(mux, \"GET\", \"/api/widgets\")\n    request(mux, \"POST\", \"/api/widgets\")\n    request(mux, \"POST\", \"/api/widgets/slug\")\n    request(mux, \"POST\", \"/api/widgets/slug/parts\")\n    request(mux, \"POST\", \"/api/widgets/slug/parts/1/update\")\n    request(mux, \"POST\", \"/api/widgets/slug/parts/1/delete\")\n    request(mux, \"GET\", \"/slug\")\n    request(mux, \"GET\", \"/slug/admin\")\n    request(mux, \"POST\", \"/slug/image\")\n}\n\nfunc handler(w http.ResponseWriter, _ *http.Request, route string) {\n    w.WriteHeader(200)\n    w.Write([]byte(fmt.Sprintf(\"Route: %v\", route)))\n}\n\nfunc request(mux *http.ServeMux, method, url string) {\n    recorder := httptest.NewRecorder()\n    request, err := http.NewRequest(method, url, &bytes.Buffer{})\n    mux.ServeHTTP(recorder, request)\n\n    if err != nil {\n        log.Fatal(err)\n    }\n    fmt.Printf(\"%v\\n\", recorder.Body)\n    fmt.Println()\n}\n"
    },
    {
        "title": "Mux 1.22",
        "code": "package main\n\nimport (\n    \"bytes\"\n    \"fmt\"\n    \"log\"\n    \"net/http\"\n    \"net/http/httptest\"\n    \"regexp\"\n)\n\n// GET  /\n// GET  /contact\n// GET  /api/widgets\n// POST /api/widgets\n// POST /api/widgets/:slug\n// POST /api/widgets/:slug/parts\n// POST /api/widgets/:slug/parts/:id/update\n// POST /api/widgets/:slug/parts/:id/delete\n// GET  /:slug\n// GET  /:slug/admin\n// POST /:slug/image\n\nfunc main() {\n    mux := http.NewServeMux()\n\n    mux.HandleFunc(\"GET /{$}\", func(w http.ResponseWriter, r *http.Request) {\n        handler(w, r, \"GET /{$}\")\n    })\n\n    mux.HandleFunc(\"GET /contact\", func(w http.ResponseWriter, r *http.Request) {\n        handler(w, r, \"GET /contact\")\n    })\n\n    mux.HandleFunc(\"GET /api/widgets\", func(w http.ResponseWriter, r *http.Request) {\n        handler(w, r, \"GET /api/widgets\")\n    })\n\n    mux.HandleFunc(\"POST /api/widgets\", func(w http.ResponseWriter, r *http.Request) {\n        handler(w, r, \"POST /api/widgets\")\n    })\n\n    mux.HandleFunc(\"POST /api/widgets/{slug}\", func(w http.ResponseWriter, r *http.Request) {\n        handler(w, r, \"POST /api/widgets/{slug}\")\n    })\n\n    mux.HandleFunc(\"POST /api/widgets/{slug}/parts\", func(w http.ResponseWriter, r *http.Request) {\n        handler(w, r, \"POST /api/widgets/{slug}/parts\")\n    })\n\n    mux.HandleFunc(\"POST /api/widgets/{slug}/parts/{id}/update\", func(w http.ResponseWriter, r *http.Request) {\n        handler(w, r, \"POST /api/widgets/{slug}/parts/{id}/update\")\n    })\n\n    mux.HandleFunc(\"POST /api/widgets/{slug}/parts/{id}/delete\", func(w http.ResponseWriter, r *http.Request) {\n        handler(w, r, \"POST /api/widgets/{slug}/parts/{id}/delete\")\n    })\n\n    mux.HandleFunc(\"GET /{slug}\", func(w http.ResponseWriter, r *http.Request) {\n        handler(w, r, \"GET /{slug}\")\n    })\n\n    mux.HandleFunc(\"GET /{slug}/admin\", func(w http.ResponseWriter, r *http.Request) {\n        handler(w, r, \"GET /{slug}/admin\")\n    })\n    mux.HandleFunc(\"POST /{slug}/image\", func(w http.ResponseWriter, r *http.Request) {\n        handler(w, r, \"POST /{slug}/image\")\n    })\n\n    request(mux, \"GET\", \"/\")\n    request(mux, \"GET\", \"/contact\")\n    request(mux, \"GET\", \"/api/widgets\")\n    request(mux, \"POST\", \"/api/widgets\")\n    request(mux, \"POST\", \"/api/widgets/slug\")\n    request(mux, \"POST\", \"/api/widgets/slug/parts\")\n    request(mux, \"POST\", \"/api/widgets/slug/parts/1/update\")\n    request(mux, \"POST\", \"/api/widgets/slug/parts/1/delete\")\n    request(mux, \"GET\", \"/slug\")\n    request(mux, \"GET\", \"/slug/admin\")\n    request(mux, \"POST\", \"/slug/image\")\n\n    request(mux, \"POST\", \"/\")\n}\n\nvar pattern regexp.Regexp = *regexp.MustCompile(`{(\\w+)}`)\n\nfunc handler(w http.ResponseWriter, r *http.Request, route string) {\n    w.WriteHeader(200)\n    fmt.Printf(\"Route: %v\\n\", route)\n\n    for _, match := range pattern.FindAllStringSubmatch(route, -1) {\n        segment := match[1]\n        // fmt.Printf(\"%v\\n\", strings.Join(match, \",\"))\n        fmt.Printf(\"%v: %v\\n\", segment, r.PathValue(segment))\n    }\n\n    fmt.Println()\n}\n\nfunc request(mux *http.ServeMux, method, url string) {\n    recorder := httptest.NewRecorder()\n    request, err := http.NewRequest(method, url, &bytes.Buffer{})\n    fmt.Printf(\"Path : %v %v\\n\", request.Method, request.URL.Path)\n    mux.ServeHTTP(recorder, request)\n\n    if err != nil {\n        log.Fatal(err)\n    }\n}\n"
    }
]